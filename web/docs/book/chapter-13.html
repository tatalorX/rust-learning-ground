<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 13: The Explorer - The Book of Rust</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-paper: #faf8f5;
            --bg-dark: #1a1a2e;
            --text-ink: #2c3e50;
            --text-muted: #5d6d7e;
            --accent-blood: #c0392b;
            --accent-gold: #f39c12;
            --accent-explorer: #16a085;
            --border: #d5d8dc;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Crimson Text', Georgia, serif;
            background: var(--bg-paper);
            color: var(--text-ink);
            line-height: 1.9;
            font-size: 19px;
        }
        
        .chapter-header {
            background: linear-gradient(135deg, #0e6251 0%, #16a085 100%);
            color: white;
            padding: 80px 40px 60px;
        }
        
        .chapter-number {
            font-size: 1em;
            text-transform: uppercase;
            letter-spacing: 4px;
            opacity: 0.7;
            margin-bottom: 15px;
        }
        
        .chapter-title {
            font-size: 3em;
            font-weight: 600;
            margin-bottom: 20px;
            max-width: 800px;
        }
        
        .chapter-subtitle {
            font-size: 1.2em;
            font-style: italic;
            opacity: 0.8;
            max-width: 700px;
        }
        
        .nav-bar {
            background: rgba(255,255,255,0.1);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
        }
        
        .nav-bar a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
        }
        
        .nav-bar a:hover { color: white; }
        
        .content {
            max-width: 720px;
            margin: 0 auto;
            padding: 60px 40px;
        }
        
        .epigraph {
            margin: 40px 0 60px;
            padding: 30px 40px;
            border-left: 4px solid var(--accent-explorer);
            background: linear-gradient(135deg, #e8f6f3 0%, transparent 100%);
            font-style: italic;
        }
        
        h2 {
            font-size: 1.8em;
            margin: 50px 0 25px;
            color: #0e6251;
            font-weight: 600;
        }
        
        h3 {
            font-size: 1.3em;
            margin: 40px 0 20px;
            color: var(--accent-explorer);
        }
        
        p {
            margin-bottom: 20px;
            text-align: justify;
        }
        
        .drop-cap::first-letter {
            float: left;
            font-size: 4.5em;
            line-height: 0.8;
            padding-right: 12px;
            padding-top: 8px;
            color: var(--accent-explorer);
            font-weight: 600;
        }
        
        pre {
            background: #1a1a2e;
            color: #f8f8f2;
            border-radius: 8px;
            padding: 25px;
            overflow-x: auto;
            margin: 30px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            line-height: 1.6;
        }
        
        code {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(22, 160, 133, 0.1);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
            color: #138d75;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: #f8f8f2;
        }
        
        .explorer-box {
            background: linear-gradient(135deg, #0e6251 0%, #16a085 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
            box-shadow: 0 4px 20px rgba(22, 160, 133, 0.3);
        }
        
        .explorer-title {
            color: #d1f2eb;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        
        .kernel-wisdom {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
        }
        
        .kernel-wisdom-title {
            color: var(--accent-gold);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.85em;
            margin-bottom: 15px;
        }
        
        .chapter-footer {
            margin-top: 80px;
            padding-top: 40px;
            border-top: 2px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: var(--bg-dark);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 500;
        }
        
        .nav-button:hover {
            background: var(--accent-explorer);
        }
    </style>
<script src="translations/i18n.js" defer></script>
<link rel="stylesheet" href="dark-mode.css">
<link rel="stylesheet" href="print.css" media="print">
</head>
<body>
    <header class="chapter-header">
        <div class="nav-bar">
            <a href="chapter-12.html">‚Üê Chapter 12</a>
            <a href="interlude-05.html">Interlude V ‚Üí</a>
        </div>
        <div class="chapter-number">Chapter Thirteen</div>
        <h1 class="chapter-title">The Explorer: Network Programming</h1>
        <p class="chapter-subtitle">Venturing beyond the process boundary‚Äîsockets, protocols, and the wilderness of the network</p>
    <div class="lang-switcher" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); display: flex; gap: 8px; flex-wrap: wrap; justify-content: flex-end; max-width: 300px;">
                <button class="lang-btn" data-lang="en" title="English">üá¨üáß</button>
                <button class="lang-btn" data-lang="ro" title="Rom√¢nƒÉ">üá∑üá¥</button>
                <button class="lang-btn" data-lang="it" title="Italiano">üáÆüáπ</button>
                <button class="lang-btn" data-lang="de" title="Deutsch">üá©üá™</button>
                <button class="lang-btn" data-lang="ru" title="–†—É—Å—Å–∫–∏–π">üá∑üá∫</button>
                <button class="lang-btn" data-lang="zh" title="‰∏≠Êñá">üá®üá≥</button>
                <button class="lang-btn" data-lang="fa" title="ŸÅÿßÿ±ÿ≥€å">üáÆüá∑</button>
                <button class="lang-btn" data-lang="ps" title="Ÿæ⁄öÿ™Ÿà">üáµüá∏</button>
                <button class="lang-btn" data-lang="arc" title="‹ê‹™‹°‹ù‹ê">üèõÔ∏è</button>
                <script>
                    document.querySelectorAll('.lang-btn').forEach(btn => {
                        btn.addEventListener('click', () => switchLanguage(btn.dataset.lang));
                    });
                </script>
            </div></header>
    
    <article class="content">
        <div class="epigraph">
            <p class="epigraph-text">"The Explorer archetype seeks new horizons, ventures into the unknown, and maps uncharted territories. In programming, this is the domain of network programming‚Äîwhere your code leaves the safety of the local machine and enters the distributed world."</p>
            <p class="epigraph-author">‚Äî Archetypal Psychology</p>
        </div>
        
        <p class="drop-cap">The network is the ultimate wilderness. Unlike memory, which is predictable and fast, the network is chaotic, slow, and unreliable. Packets are lost. Connections drop. Latency spikes. To program for the network is to embrace uncertainty‚Äîto become an <strong>Explorer</strong>.</p>
        
        <div class="explorer-box">
            <div class="explorer-title">üß≠ The Explorer Speaks</div>
            <p>"I venture where your local variables cannot reach. I traverse the network, connecting processes across machines, across data centers, across continents. I deal in sockets and packets, in protocols and handshakes. I know that failure is not exceptional‚Äîit is expected."</p>
            <p style="margin-top: 15px;">"Join me, but pack your Result types. The network is a harsh mistress."</p>
        </div>
        
        <h2>TCP Streams</h2>
        
        <p>The foundation of network programming in Rust is the <code>TcpStream</code>:</p>
        
        <pre><code>use std::net::TcpStream;
use std::io::{Read, Write};

// Connect to a server
let mut stream = TcpStream::connect("127.0.0.1:8080")?;

// Write data
stream.write_all(b"Hello, server!")?;

// Read response
let mut buffer = [0; 1024];
let n = stream.read(&amp;mut buffer)?;
println!("Received: {}", String::from_utf8_lossy(&amp;buffer[..n]));</code></pre>
        
        <h2>Async Network Programming</h2>
        
        <p>For high-performance servers, use async I/O with Tokio:</p>
        
        <pre><code>use tokio::net::TcpListener;
use tokio::io::{AsyncReadExt, AsyncWriteExt};

#[tokio::main]
async fn main() -> Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let listener = TcpListener::bind("127.0.0.1:8080").await?;
    
    loop {
        let (mut socket, _) = listener.accept().await?;
        
        tokio::spawn(async move {
            let mut buf = [0; 1024];
            
            match socket.read(&amp;mut buf).await {
                Ok(n) if n == 0 => return,  // Connection closed
                Ok(n) => {
                    if let Err(e) = socket.write_all(&amp;buf[..n]).await {
                        eprintln!("Failed to write: {}", e);
                    }
                }
                Err(e) => eprintln!("Failed to read: {}", e),
            }
        });
    }
}</code></pre>
        
        <div class="kernel-wisdom">
            <div class="kernel-wisdom-title">‚öôÔ∏è Kernel Wisdom: The Network Stack</div>
            <p>"The kernel's network stack is layers of abstraction: sockets, TCP, IP, Ethernet. Each layer adds headers, each layer handles its own concerns. When you use TcpStream in Rust, you are using decades of networking evolution. Respect the stack."</p>
        </div>
        
        <h2>HTTP with Hyper</h2>
        
        <p>For HTTP, use the <code>hyper</code> crate:</p>
        
        <pre><code>use hyper::{Body, Request, Response, Server};
use hyper::service::{make_service_fn, service_fn};

async fn handle(_req: Request&lt;Body&gt;) -> Result&lt;Response&lt;Body&gt;, hyper::Error&gt; {
    Ok(Response::new(Body::from("Hello, World!")))
}

#[tokio::main]
async fn main() {
    let make_svc = make_service_fn(|_conn| async {
        Ok::&lt;_, hyper::Error&gt;(service_fn(handle))
    });
    
    let addr = ([127, 0, 0, 1], 3000).into();
    let server = Server::bind(&amp;addr).serve(make_svc);
    
    if let Err(e) = server.await {
        eprintln!("Server error: {}", e);
    }
}</code></pre>
        
        <p>Go to Exercises 200-230 to practice network programming. Build clients, servers, and protocols.</p>
        
        <footer class="chapter-footer">
            <a href="chapter-12.html" class="nav-button">‚Üê Chapter 12</a>
            <span style="color: var(--text-muted);">Chapter 13 of 18</span>
            <a href="interlude-05.html" class="nav-button">Interlude V ‚Üí</a>
        </footer>
    
        <div class="surgical-note">
            <div class="surgical-note-title">üî¨ Surgical Precision: TCP Three-Way Handshake</div>
            <p>Establishing a TCP connection requires three packets:</p>
            <ol style="margin-left: 20px; margin-top: 10px;">
                <li><strong>SYN</strong>: Client sends synchronization request with ISN</li>
                <li><strong>SYN-ACK</strong>: Server responds with its ISN and acknowledges client's</li>
                <li><strong>ACK</strong>: Client acknowledges server's ISN</li>
            </ol>
            <p style="margin-top: 10px;">This latency is why connection pooling is critical for high-performance network applications.</p>
        </div>

    </article>
<script src="dark-mode.js"></script>
<script src="search.js"></script>
    <script src="book-i18n.js"></script>
</body>
</html>
